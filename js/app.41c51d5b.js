(function(){var t={7895:function(){d3.select(this.$el).append("svg")},4006:function(t,e,a){"use strict";var n=a(9242),o=a(2483),r=a(3494),i=a(7749),s=a(8539),l=a(3396);const c={id:"app"};function d(t,e,a,n,o,r){const i=(0,l.up)("NavBar"),s=(0,l.up)("router-view");return(0,l.wg)(),(0,l.iD)("div",c,[(0,l.Wm)(i),(0,l.Wm)(s)])}const u={class:"navbar navbar-dark bg-dark flex-column"},p={class:"navbar-nav"},h={class:"nav-item"},m={class:"nav-item"};function v(t,e){const a=(0,l.up)("font-awesome-icon"),n=(0,l.up)("router-link");return(0,l.wg)(),(0,l.iD)("nav",u,[(0,l._)("ul",p,[(0,l._)("li",h,[(0,l.Wm)(n,{class:"nav-link",to:"/"},{default:(0,l.w5)((()=>[(0,l.Wm)(a,{icon:["fas","earth-americas"]})])),_:1})]),(0,l._)("li",m,[(0,l.Wm)(n,{class:"nav-link",to:"/plots"},{default:(0,l.w5)((()=>[(0,l.Wm)(a,{icon:["fas","chart-simple"]})])),_:1})])])])}var f=a(89);const g={},y=(0,f.Z)(g,[["render",v],["__scopeId","data-v-7651a764"]]);var b=y,w={name:"App",components:{NavBar:b}};const _=(0,f.Z)(w,[["render",d]]);var D=_,x=a(7139);const k=t=>((0,l.dD)("data-v-03940332"),t=t(),(0,l.Cn)(),t),j=k((()=>(0,l._)("div",{id:"map"},null,-1))),S=k((()=>(0,l._)("div",{class:"map-overlay",id:"features"},[(0,l._)("h4",null,"Demand"),(0,l._)("div",{id:"pd"},[(0,l._)("p",null,"Hover over a sub-county!")])],-1))),C={class:"map-overlay",id:"dtsel"},M={class:"mt-3 text-left"},I=k((()=>(0,l._)("label",{for:"slider"},"Hour of day",-1))),$={class:"d-flex justify-content-between"},O={class:"mt-3 text-left",style:{width:"50px",display:"inline-block","padding-right":"5px"}},z=k((()=>(0,l._)("label",{for:"day"},"Day",-1))),B=["value"],H={class:"mt-3 text-left",style:{width:"50px",display:"inline-block","padding-right":"5px"}},W=k((()=>(0,l._)("label",{for:"month"},"Month",-1))),Y=["value"],F={class:"mt-3 text-left",style:{width:"75px",display:"inline-block","padding-right":"5px"}},T=k((()=>(0,l._)("label",{for:"year"},"Year",-1))),Z=["value"],A={style:{position:"absolute",right:"0",top:"350px"}};function L(t,e,a,o,r,i){const s=(0,l.up)("LegendBox");return(0,l.wg)(),(0,l.iD)("div",null,[j,S,(0,l._)("div",C,[(0,l._)("div",M,[I,(0,l.wy)((0,l._)("input",{type:"range",class:"form-range custom-slider",id:"slider",min:"0",max:"23",step:"1",value:"0","onUpdate:modelValue":e[0]||(e[0]=t=>r.hour=t)},null,512),[[n.nr,r.hour]]),(0,l._)("div",$,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(r.hours,(t=>((0,l.wg)(),(0,l.iD)("span",{key:t},(0,x.zw)(t),1)))),128))])]),(0,l._)("div",O,[z,(0,l.wy)((0,l._)("select",{class:"form-control",id:"day","onUpdate:modelValue":e[1]||(e[1]=t=>r.day=t)},[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(r.days,(t=>((0,l.wg)(),(0,l.iD)("option",{key:t,value:t},(0,x.zw)(t),9,B)))),128))],512),[[n.bM,r.day]])]),(0,l._)("div",H,[W,(0,l.wy)((0,l._)("select",{class:"form-control",id:"month","onUpdate:modelValue":e[2]||(e[2]=t=>r.month=t),onChange:e[3]||(e[3]=(...t)=>i.updateDays&&i.updateDays(...t))},[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(r.months,(t=>((0,l.wg)(),(0,l.iD)("option",{key:t,value:t},(0,x.zw)(t),9,Y)))),128))],544),[[n.bM,r.month]])]),(0,l._)("div",F,[T,(0,l.wy)((0,l._)("select",{class:"form-control",id:"year","onUpdate:modelValue":e[4]||(e[4]=t=>r.year=t)},[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(r.years,(t=>((0,l.wg)(),(0,l.iD)("option",{key:t,value:t},(0,x.zw)(t),9,Z)))),128))],512),[[n.bM,r.year]])])]),(0,l._)("div",A,[(0,l.Wm)(s,{labels:r.labels,colors:r.colors},null,8,["labels","colors"])])])}var N=a(7709),E=a.n(N);const K=t=>((0,l.dD)("data-v-5e5376f6"),t=t(),(0,l.Cn)(),t),U={class:"legend-box position-absolute p-3 d-flex flex-column align-items-start"},P=K((()=>(0,l._)("h2",{class:"text-dark"},"Legend",-1))),V={class:"row justify-content-between mt-1 labels"};function q(t,e,a,n,o,r){return(0,l.wg)(),(0,l.iD)("div",U,[P,(0,l._)("div",{class:"gradient-bar mt-2 w-100",style:(0,x.j5)({background:o.gradient})},null,4),(0,l._)("div",V,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(a.labels,(t=>((0,l.wg)(),(0,l.iD)("div",{class:"col text-center p-0",key:t},(0,x.zw)(t),1)))),128))])])}var X={name:"LegendBox",props:{labels:{type:Array,default:()=>[]},colors:{type:Array,default:()=>[]}},data(){return{gradient:""}},watch:{colors(t){this.gradient=`linear-gradient(to right, ${t.join(",")})`}},mounted(){this.gradient=`linear-gradient(to right, ${this.colors.join(",")})`}};const G=(0,f.Z)(X,[["render",q],["__scopeId","data-v-5e5376f6"]]);var R=G,J={components:{LegendBox:R},data(){return{map:null,accessToken:"pk.eyJ1Ijoia2FydGhpYzI1IiwiYSI6ImNsb2tpazRjdTBqNXoya3MyYmx3MWFlZXgifQ.D6Bxvtj4NhZ2U1Pt6kFMug",labels:[],colors:[],hours:[0,5,11,17,23],hour:0,day:"16",month:"06",year:"2023",days:[],months:["06","07","08"],years:["2023"]}},watch:{day(){this.updateMapSourceData()},month(){this.updateMapSourceData()},year(){this.updateMapSourceData()},hour(){this.updateMapSourceData()}},mounted(){E().accessToken=this.accessToken,this.map=new(E().Map)({container:"map",center:[-87.6,41.85],zoom:10,style:"mapbox://styles/mapbox/dark-v11"}),this.map.on("load",(()=>{this.map.addSource("chicago1",{type:"geojson",data:"/Chicago_06_15_23_05.geojson"}),this.map.addLayer({id:"Chicago-1",type:"fill",source:"chicago1",paint:{"fill-color":["case",["==",["get","cartodb_id"],null],"gold",["interpolate",["linear"],["get","cartodb_id"],0,"gold",20,"red"]],"fill-opacity":.8}});const t=["0","2","5","10","20+"];this.labels=t;const e=["#FEB24C","#FD8D3C","#FC4E2A","#E31A1C","#BD0026"];function a(t){let e=parseInt(t.slice(1,3),16),a=parseInt(t.slice(3,5),16),n=parseInt(t.slice(5,7),16);return`rgb(${e}, ${a}, ${n})`}let n=e.map((t=>a(t)));this.colors=n,this.map.on("mousemove",(t=>{this.map.getCanvas().style.cursor="pointer";const e=this.map.queryRenderedFeatures(t.point,{layers:["Chicago-1"]});document.getElementById("pd").innerHTML=e.length?`<h4>${e[0].properties.name}</h4><p>${e[0].properties.cartodb_id||0} calls per hour</p>`:"<p>Hover over a sub-county!</p>"})),this.map.on("mouseleave","Chicago-1",(()=>{this.map.getCanvas().style.cursor=""})),this.updateDays()}))},methods:{updateDays(){const t=parseInt(this.month);let e,a;switch(t){case 6:e=16,a=30;break;case 7:e=1,a=31;break;case 8:e=1,a=16;break}this.days=Array.from({length:a-e+1},((t,a)=>String(a+e).padStart(2,"0")))},updateMapSourceData(){if(this.day&&this.month&&this.year&&null!==this.hour&&this.map){const t=String(this.month).padStart(2,"0"),e=String(this.day).padStart(2,"0"),a=String(this.year).slice(-2),n=`${t}_${e}_${a}`,o=String(this.hour).padStart(2,"0"),r=`/Chicago_${n}_${o}.geojson`;this.map.getSource("chicago1").setData(r)}}}};const Q=(0,f.Z)(J,[["render",L],["__scopeId","data-v-03940332"]]);var tt=Q;function et(t,e,a,n,o,r){return(0,l.wg)(),(0,l.iD)("div")}var at=a(7895),nt=a.n(at);const ot=(0,f.Z)(nt(),[["render",et]]);var rt=ot;r.vI.add(s.Xj,s.Wpq);const it=[{path:"/",component:tt},{path:"/plots",component:rt}],st=(0,o.p7)({history:(0,o.PO)("/cabcast/"),routes:it}),lt=(0,n.ri)(D);lt.component("font-awesome-icon",i.GN),lt.config.productionTip=!1,lt.use(st).mount("#app")}},e={};function a(n){var o=e[n];if(void 0!==o)return o.exports;var r=e[n]={exports:{}};return t[n].call(r.exports,r,r.exports,a),r.exports}a.m=t,function(){var t=[];a.O=function(e,n,o,r){if(!n){var i=1/0;for(d=0;d<t.length;d++){n=t[d][0],o=t[d][1],r=t[d][2];for(var s=!0,l=0;l<n.length;l++)(!1&r||i>=r)&&Object.keys(a.O).every((function(t){return a.O[t](n[l])}))?n.splice(l--,1):(s=!1,r<i&&(i=r));if(s){t.splice(d--,1);var c=o();void 0!==c&&(e=c)}}return e}r=r||0;for(var d=t.length;d>0&&t[d-1][2]>r;d--)t[d]=t[d-1];t[d]=[n,o,r]}}(),function(){a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,{a:e}),e}}(),function(){a.d=function(t,e){for(var n in e)a.o(e,n)&&!a.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};a.O.j=function(e){return 0===t[e]};var e=function(e,n){var o,r,i=n[0],s=n[1],l=n[2],c=0;if(i.some((function(e){return 0!==t[e]}))){for(o in s)a.o(s,o)&&(a.m[o]=s[o]);if(l)var d=l(a)}for(e&&e(n);c<i.length;c++)r=i[c],a.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return a.O(d)},n=self["webpackChunkviz"]=self["webpackChunkviz"]||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var n=a.O(void 0,[998],(function(){return a(4006)}));n=a.O(n)})();
//# sourceMappingURL=app.41c51d5b.js.map